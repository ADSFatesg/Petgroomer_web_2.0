<h2>Editar Funcionário</h2>

<form [formGroup]="employeeForm" (ngSubmit)="save()">
  <!-- Agrupa as seções em um contêiner flexbox -->
  <div class="sections">
    <!-- Seção 1: Informações Pessoais -->
    <div class="section personal-info">
      <h3>Informações Pessoais</h3>

      <!-- Campo Nome -->
      <div class="form-group">
        <label for="name">Nome</label>
        <div class="input-with-icon">
          <mat-icon class="leading-icon">person</mat-icon>
          <input id="name" formControlName="name" type="text" placeholder="Nome completo">
        </div>
        <div *ngIf="employeeForm.get('name')?.touched && employeeForm.get('name')?.invalid" class="error-message">
          Nome é obrigatório.
        </div>
      </div>

      <!-- Campo Email -->
      <div class="form-group">
        <label for="email">Email</label>
        <div class="input-with-icon">
          <mat-icon class="leading-icon">email</mat-icon>
          <input id="email" formControlName="email" type="email" placeholder="Email">
        </div>
        <div *ngIf="employeeForm.get('email')?.touched && employeeForm.get('email')?.invalid" class="error-message">
          Email é obrigatório.
        </div>
      </div>

      <!-- Campo Telefone -->
      <div class="form-group">
        <label for="phone">Telefone</label>
        <div class="input-with-icon">
          <mat-icon class="leading-icon">phone</mat-icon>
          <input id="phone" formControlName="phone" type="text" placeholder="Telefone" mask="(00) 00000-0000">
        </div>
        <div *ngIf="employeeForm.get('phone')?.touched && employeeForm.get('phone')?.invalid" class="error-message">
          Telefone é obrigatório.
        </div>
      </div>

      <!-- Campo CPF -->
      <div class="form-group">
        <label for="cpf">CPF</label>
        <div class="input-with-icon">
          <mat-icon class="leading-icon">badge</mat-icon>
          <input id="cpf" formControlName="cpf" type="text" placeholder="CPF" mask="000.000.000-00" isdisabled>
        </div>
      </div>
      <h3>Detalhes do Cargo</h3>

      <!-- Campo Salário -->
      <div class="form-group">
        <label for="wage">Salário</label>
        <div class="input-with-icon">
          <mat-icon class="leading-icon">attach_money</mat-icon>
          <input id="wage" formControlName="wage" type="number" placeholder="Salário">
        </div>
        <div *ngIf="employeeForm.get('wage')?.touched && employeeForm.get('wage')?.invalid" class="error-message">
          Salário é obrigatório.
        </div>
      </div>

      <!-- Campo Cargo (select sem Material) -->
      <div class="form-group">
        <label for="position">Cargo</label>
        <div class="input-with-icon">
          <mat-icon class="leading-icon">work</mat-icon>
          <select id="position" formControlName="position">
            <option *ngFor="let position of positions" [value]="position">{{ position }}</option>
          </select>
        </div>
        <div *ngIf="employeeForm.get('position')?.touched && employeeForm.get('position')?.invalid" class="error-message">
          Cargo é obrigatório.
        </div>
      </div>
    </div>
    <!-- Seção 3: Endereço -->
    <div class="section address-info">
      <h3>Endereço</h3>

      <!-- Campo CEP com botão de consulta -->
      <div class="form-group">
        <label for="postalCode">CEP</label>
        <div class="input-with-icon">
          <mat-icon class="leading-icon">location_on</mat-icon>
          <input id="postalCode" formControlName="postalCode" type="text" placeholder="CEP" mask="00000-000">
          <button type="button" class="btn-icon" (click)="consultarCEP()">
            <mat-icon>search</mat-icon>
          </button>
        </div>
        <div *ngIf="employeeForm.get('postalCode')?.touched && employeeForm.get('postalCode')?.invalid" class="error-message">
          CEP é obrigatório.
        </div>
      </div>

      <!-- Campo Rua -->
      <div class="form-group">
        <label for="street">Rua</label>
        <div class="input-with-icon">
          <mat-icon class="leading-icon">home</mat-icon>
          <input id="street" formControlName="street" type="text" placeholder="Rua">
        </div>
      </div>

      <!-- Campo Número -->
      <div class="form-group">
        <label for="number">Número</label>
        <div class="input-with-icon">
          <mat-icon class="leading-icon">looks_one</mat-icon>
          <input id="number" formControlName="number" type="text" placeholder="Número">
        </div>
      </div>

      <!-- Campo Complemento -->
      <div class="form-group">
        <label for="complement">Complemento</label>
        <div class="input-with-icon">
          <mat-icon class="leading-icon">add_location</mat-icon>
          <input id="complement" formControlName="complement" type="text" placeholder="Complemento">
        </div>
      </div>

      <!-- Campo Cidade -->
      <div class="form-group">
        <label for="city">Cidade</label>
        <div class="input-with-icon">
          <mat-icon class="leading-icon">location_city</mat-icon>
          <input id="city" formControlName="city" type="text" placeholder="Cidade">
        </div>
      </div>

      <!-- Campo Estado -->
      <div class="form-group">
        <label for="state">Estado</label>
        <div class="input-with-icon">
          <mat-icon class="leading-icon">map</mat-icon>
          <input id="state" formControlName="state" type="text" placeholder="Estado">
        </div>
      </div>

      <!-- Campo País (select sem Material) -->
      <div class="form-group">
        <label for="country">País</label>
        <div class="input-with-icon">
          <mat-icon class="leading-icon">language</mat-icon>
          <select id="country" formControlName="country">
            <option *ngFor="let country of countries" [value]="country">{{ country }}</option>
          </select>
        </div>
        <div *ngIf="employeeForm.get('country')?.touched && employeeForm.get('country')?.invalid" class="error-message">
          País é obrigatório.
        </div>
      </div>
    </div>
  </div>

  <!-- Botões de Ação -->
  <div class="modal-actions">
    <button type="submit" class="btn-save">Salvar</button>
    <button type="button" class="btn-cancel" (click)="close()">Cancelar</button>
  </div>
</form>
